<!DOCTYPE html>
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Calculateur de commission</title>
  <style>
    body { background-color: #1e1e1e; color: white; font-family: Arial; text-align: center; padding-top: 80px; }
    h1 { color: #4CAF50; }
    input { padding: 10px; font-size: 16px; width: 260px; margin: 8px 0; }
    button { background-color: #4CAF50; color: white; padding: 10px 22px; border: none; font-size: 16px; cursor: pointer; margin-top: 10px; }
    #resultat { margin-top: 18px; font-size: 18px; }
    ul { list-style: none; padding: 0; margin-top: 16px; }
    li { margin: 6px 0; }
  </style>
</head>
<body>
  <h1>Calculateur de commission</h1>
  <div>
    <input type="text" id="nom" placeholder="Nom du commercial">
    <br>
    <input type="text" id="position" placeholder="Position du commercial">
    <br>
    <input type="number" id="ca" placeholder="Entre le CA">
    <br>
    <button onclick="ajouter()">Ajouter</button>
    <button onclick="()">Réinitialiser</button>
    <button onclick="exportCSV()">Exporter CSV</button>
  </div>

  <div id="resultat">Total commissions : 0.00 €</div>
  <ul id="liste"></ul>

  <script>
    let total = 0;

    function resetAll() {
      total = 0;
      document.getElementById("liste").innerHTML = "";
      document.getElementById("resultat").innerHTML = "Total commissions : 0.00 €";
    }

    function ajouter() {
      const nom = document.getElementById("nom").value.trim();
      const position = document.getElementById("position").value.trim();
      const ca = parseFloat(document.getElementById("ca").value);

      if (!nom || !position || Number.isNaN(ca)) {
        document.getElementById("resultat").innerHTML = "Entre un nom, une position et un CA valides. (Total : " + total.toFixed(2) + " €)";
        return;
      }

      const taux = ca > 5000 ? 0.07 : 0.05;
      const commission = ca * taux;

      total += commission;

      const li = document.createElement("li");
      li.textContent = nom + " (" + position + ") → CA : " + ca.toFixed(2) + " € | Taux : " +
                       (taux * 100).toFixed(1) + "% | Commission : " + commission.toFixed(2) + " €";
      document.getElementById("liste").appendChild(li);

      document.getElementById("resultat").innerHTML = "Total commissions : " + total.toFixed(2) + " €";

      document.getElementById("nom").value = "";
      document.getElementById("position").value = "";
      document.getElementById("ca").value = "";
      document.getElementById("nom").focus();
    }

    function exportCSV() {
      // Fonction d'export (si nécessaire)
    }
  </script>
</body>
</html>
